\documentclass[12pt]{article}
\usepackage{listings}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[polish]{babel}
\title{Zastosowanie algorytmów ewolucyjnych do zagadnień
  kombinatorycznych na przykładzie problemu szeregowania zadań - sprawozdanie}
\author{Michał Karpiński, Maciej Pacut}
\date{Grudzień 2011}
\begin{document}
  \maketitle
\section{Wstęp}
Problem szeregowania zadań ma kilka różnych wariantów. W niniejszej pracy zajmujemy się problemem typu {\em Flow Shop}.
Problem ten jest problemem planowania produkcji, w którym $n$ zadań musi zostać wykonanych na $m$ maszynach (jeden po drugim).
Danymi wejściowymi są $n$, $m$ oraz macierz $T$, gdzie $T[i][j]$ jest czasem wykonania zadania $i$ na maszynie $j$ $(i = 1..n, j = 1..m )$.
Czasy są nieujemne, stałe i nie zmianiają się podczas pracy maszyn. Problemem jest zminimalizowanie czasu 
pomiędzy rozpoczęciem wykonywania pierwszego zadania na pierwszej maszynie a zakończeniem wykonywania ostatniego zadania na ostatniej maszynie.
Dla naszego problemu przyjmujemy nastepujące założenia:

\begin{itemize}
  \item Każde zadanie musi być wykonane co najwyżej raz na maszynach $1, 2 ... m$ (w tej kolejności)
  \item Każda maszyna w danym momencie pracuje tylko nad jednym zadaniem
  \item Każde zadanie w danym momencie jest wykonywane na co najwyżej jednej maszynie
  \item Wykonywanie zadania nigdy nie jest zakłócone (przerwane)
  \item Czas pomiędzy przekazaniem zadania z jednej maszyny na drugą jest zerowy
\end{itemize}

Tak zdefiniowany problem jest NP-trudny. W niniejszej pracy prezentujemy algorytm ewolucyjny poszukujący przybliżonego rozwiązania.

\section{Schemat algorytmu ewolucyjnego}

Do rozwiązania problemu {\em Flow Shop} zastosowaliśmy algorytm
genetyczny SGA wykonujący się wg następującego schematu:

\begin{verbatim}
Losuj populację początkową
while(NOT Warunek Zakończenia)
{
  Krzyżowanie w obrębie populacji
  Mutacja osobników w populacji
  Zastąpienie populacji nową
}
\end{verbatim}

Rodzice dla opratorów krzyżowania są wybierani z prawdopodobieństwem
proporcjonalnym do wartości funkcji przystosowania kandydata.

Długość wymienianego łańcucha jest stałą i wynosi $\frac{1}{3}$ długości
permutacji. Losowane jest miejsce rozpoczęcia wymienianego łańcucha.

Mutacja jest przeprowadzana z prawdopodobieństwem 0.3.

\section{Operatory ewolucyjne}

Zostały wykorzystane operatory krzyżowania permutacji PMX, CX, OX.
Operator mutacji aplikuje losową transpozycję do mutowanej permutacji.

\section{Funkcja celu}

Funkcją celu, czyli wartością, do której będzie dążył algorytm jest czas
pomiędzy rozpoczęciem wykonywania pierwszego zadania na pierwszej maszynie a
zakończeniem ostatniego zadania na ostatniej maszynie. To kryterium optymalizacyjne
nosi nazwę {\em makespan}. Będziemy posługiwali się następującymi oznaczeniami:

\begin{itemize}
  \item Dane rozwiązanie (permutacja $n$-elementowa): $\pi$
  \item Czas obróbki $i$-tego zadania na $j$-tej maszynie: $p_{\pi_i,j}$
  \item Czas zakonczenia $i$-tego zadania na $j$-tej masz: $C(\pi_i,j)$
  \item Kryterium optymalizacyjne: $C_{max}$: $C(\pi_n,m)$
\end{itemize}

Wartość funkcji $C_{max}$ wyraża się wzorem rekurencyjnym:

\begin{itemize}
  \item $C(\pi_1,1) = p_{\pi_1,1}$
  \item $C(\pi_i,1) = C(\pi_{i-1},1) + p_{\pi_i},1$
  \item $C(\pi_1,j) = C(\pi_1,j-1) + p_pi_1,j$
  \item $C(\pi_i,j) = max\{C(\pi_i,j-1),C(\pi_{i-1},j)\} + p_{\pi_i},j$
\end{itemize}

Warto zauważyć, że do obliczenia $C_{max}$ można zastosować algorytm dynamiczny. 

\section{Przeprowadzone testy}
\subsection{Wariancja}

Zastosowaną metryką w przestrzeni permutacji jest minimalna liczba
transpozycji potrzebnych do przekształcenia jednej permutacji w drugą.

Przedstawiono wykresy wariancji populacji w tej metryce. Testy
pokazują zbieżność populacji.

\subsection{Test szybkości zbieżności do optimum}

Przeprowadzono testy porównujące algorytm genetyczny z losowym
przeszukiwaniem przestrzeni permutacji. Algorytm przeszukujący losowo
przestrzeń wykonywał taką samą liczbę ewaluacji jak algorytm
genetyczny. Otrzymano znacząco lepsze wyniki na korzyść algorytmu genetycznego.

\subsection{Jakość algorytmów krzyżowania}

Przeprowadzono testy sprawdzające, jak często wykorzystane algorytmy
krzyżowania jako wynik otrzymują osobniki lepsze od rodziców. Zostały
zaobserwowane różnice w działaniu operatorów zależnych od wyboru
wymienianego łańcucha (PMX, CX) w stosunku do operatora niezależnego
od tego wyboru (OX). Różnica zależy od wyboru długości wymienianego łańcucha.

\end{document}
